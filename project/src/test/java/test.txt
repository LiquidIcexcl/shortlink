存储转发（Store-and-Forward）交换方式
定义与工作过程
1. 定义：交换机在转发前需完整接收并缓存整个数据帧。
2. 工作过程：
接收完整帧：从第一个比特开始接收，直到完整存储帧（包括前导码、帧头、数据、FCS）。
FCS校验：使用CRC-32算法检查帧校验序列，错误则丢弃。
查询转发表：提取目的MAC地址，查找MAC地址表确定转发端口。
转发帧：将帧调度到目标端口，若端口繁忙则排队等待。
优点
1. 错误检测：丢弃无效帧（如CRC错误），避免错误数据传播。
2. 支持高级功能：可处理QoS、VLAN标签等复杂流量管理。
3. 速率适配：支持不同速率端口互联（如1Gbps与10Gbps）。
缺点
1. 高延迟：必须接收完整帧后才能处理，长帧延迟显著。
2. 缓存压力：高负载时可能因缓存溢出导致丢包。

直通（Cut-Through）交换方式
定义与工作过程
1. 定义：交换机仅接收帧头部后立即启动转发。
2. 工作过程：
快速解析目的地址：接收前导码和帧起始符后，提取目的MAC地址（前6字节）。
立即转发：查询MAC地址表后，边接收后续字节边转发到目标端口。
优点
1. 低延迟：仅需接收14字节即可转发，延迟低至亚微秒级。
2. 高吞吐量：无缓存瓶颈，适合数据中心内部流量。
缺点
1. 错误传播：若帧后半部分出错（如CRC错误），无法撤回已转发的数据。
2. 转发碎片帧：可能转发不完整帧（如因冲突中断传输的短帧）。

需要回退到存储转发的情况
1. 速率不匹配：连接不同速率端口（如100Mbps与10Gbps）时，需缓存协调速率差异。
2. 协议转换：跨协议传输（如以太网与光纤通道互通）需重构帧格式。
3. 安全需求：需要深度包检测（DPI）、加密解密或严格过滤错误帧时。
4. 高误码率：当直通模式下错误率过高（如CRC错误率超过阈值），切换存储转发以提高可靠性。
